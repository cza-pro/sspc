/* empty css                                                                    */import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as w,o as i,c as m,a as t,e as f,p as x,f as B}from"./app-D9WQMsEa.js";/* empty css            */const h=n=>(x("data-v-703a94fc"),n=n(),B(),n),D=["src"],E={key:0,class:"modal"},M={class:"modal-content"},V={class:"modal-container"},N=["src"],L={key:0,class:"confirm-modal"},O=h(()=>t("p",{class:"confirm-text"},"是否一併下載灰階版照片？",-1)),R=h(()=>t("img",{src:"/images/download.png",alt:"download",class:"download-img"},null,-1)),U=h(()=>t("p",{class:"download-css"}," 下載 ",-1)),$=[R,U],j={__name:"ImageModal1",props:{thumbnailSrc:String,fullImageSrc:String},setup(n){const r=n,u=w(!1),d=w(!1),g=()=>{u.value=!1,d.value=!1},I=()=>{d.value=!0},k=()=>{d.value=!1},C=()=>{_(r.fullImageSrc),g()},b=()=>{_(r.fullImageSrc),S(r.fullImageSrc),g()},_=l=>{const o=document.createElement("a");o.href=l,o.download=l.split("/").pop(),document.body.appendChild(o),o.click(),document.body.removeChild(o)},S=l=>{const o=new Image;o.crossOrigin="Anonymous",o.src=l,o.onload=()=>{const s=document.createElement("canvas");s.width=o.width,s.height=o.height;const p=s.getContext("2d");p.drawImage(o,0,0);const v=p.getImageData(0,0,s.width,s.height),c=v.data;for(let a=0;a<c.length;a+=4){const e=(c[a]+c[a+1]+c[a+2])/3;c[a]=e,c[a+1]=e,c[a+2]=e}p.putImageData(v,0,0),s.toBlob(a=>{const e=document.createElement("a");e.href=URL.createObjectURL(a),e.download="grayscale_"+l.split("/").pop(),document.body.appendChild(e),e.click(),document.body.removeChild(e)})}};return(l,o)=>(i(),m("div",null,[t("img",{src:n.thumbnailSrc,onClick:o[0]||(o[0]=s=>u.value=!0),alt:"Filter",class:"thumbnail"},null,8,D),u.value?(i(),m("div",E,[t("div",M,[d.value?f("",!0):(i(),m("span",{key:0,class:"close",onClick:o[1]||(o[1]=s=>g())},"×")),t("div",V,[t("img",{src:n.fullImageSrc,class:"modal-image"},null,8,N),d.value?(i(),m("div",L,[t("div",{class:"modal-confirm-content confirmation-content"},[t("span",{class:"close confirmation-close",onClick:k},"×"),O,t("button",{onClick:C,class:"cancel-button"},"不需要"),t("button",{onClick:b,class:"confirm-button"},"是")])])):f("",!0)]),t("div",{class:"download-row",onClick:I},$)])])):f("",!0)]))}},z=y(j,[["__scopeId","data-v-703a94fc"]]);export{z as default};
